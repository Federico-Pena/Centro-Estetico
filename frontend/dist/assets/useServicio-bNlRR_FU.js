import{f as S,a as p,u as v}from"./useUserContext-o9xrNTqb.js";import{r as y,S as f,u as h,m as E,c as l}from"./index-eyZDGxlY.js";const m=async(s,e)=>{const r=p.servicios.postServicio,t={method:"POST",body:e,headers:{authorization:`Bearer ${s}`}};return await S(r,t)},O=async(s,e)=>{const r=p.servicios.putServicio,t={method:"PUT",body:e,headers:{authorization:`Bearer ${s}`}};return await S(r,t)},C=async(s,e)=>{const r=`${p.servicios.deleteServicio}${e}`,t={method:"DELETE",headers:{Authorization:`Bearer ${s||""}`}};return await S(r,t)},w=async s=>{const e=p.servicios.getServicios,r={method:"GET",headers:{authorization:`Bearer ${s}`}};return await S(e,r)},I=()=>{const s=y.useContext(f);if(s===void 0)throw new Error("usePacientes must be used within a PacientesProvider");return s},R=()=>{const{accessToken:s}=v(),{setMensaje:e}=h(),{setLoading:r}=E(),{dispatch:t}=I();return{editarServicio:async i=>{try{r(!0);const o=await O(s,i),{error:a,mensaje:n,datos:c,status:u}=o;if(u===200)return e(n),t({type:l.SET_SERVICIO_NUEVO,payload:c}),!0;if(a)return e(a),!1}catch{return e("Ocurrió un error"),!1}finally{r(!1)}},obtenerServicios:async()=>{try{r(!0);const i=await w(s),{error:o,datos:a,status:n}=i;n===200?t({type:l.SET_SERVICIOS,payload:a}):o&&e(o)}catch{e("Ocurrió un error")}finally{r(!1)}},agregarServicio:async i=>{try{r(!0);const o=await m(s,i),{error:a,mensaje:n,datos:c,status:u}=o;if(u===200)return e(n),t({type:l.SET_SERVICIO_NUEVO,payload:c}),!0;if(a)return e(a),!1}catch{return e("Ocurrió un error"),!1}finally{r(!1)}},eliminarServicio:async i=>{try{r(!0);const o=await C(s,i),{mensaje:a,error:n,datos:c,status:u}=o;u===200?(e(a),t({type:l.DELETE_SERVICIO,payload:c.servicio})):e(n||"Ocurrió un error")}catch{e("Ocurrió un error")}finally{r(!1)}}}};export{R as a,I as u};
