import{r as u,u as v,j as i}from"./index-D7SXAQHN.js";import{u as _}from"./useForm-CHJZnCkj.js";import{L as d}from"./LabelInput-BomlkQxr.js";import{T}from"./TextAreaLabel-BpRQ34pw.js";import{B as w}from"./Button-lIR1oaxr.js";import{T as C}from"./TextErrorForm-D2OMVORA.js";const l={_origin:"https://api.emailjs.com"},y=(t,e="https://api.emailjs.com")=>{l._userID=t,l._origin=e},b=(t,e,o)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class p{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const h=(t,e,o={})=>new Promise((n,s)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:r})=>{const m=new p(r);m.status===200||m.text==="OK"?n(m):s(m)}),a.addEventListener("error",({target:r})=>{s(new p(r))}),a.open("POST",l._origin+t,!0),Object.keys(o).forEach(r=>{a.setRequestHeader(r,o[r])}),a.send(e)}),E=(t,e,o,n)=>{const s=n||l._userID;return b(s,t,e),h("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:s,service_id:t,template_id:e,template_params:o}),{"Content-type":"application/json"})},F=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},q=(t,e,o,n)=>{const s=n||l._userID,a=F(o);b(s,t,e);const r=new FormData(a);return r.append("lib_version","3.11.0"),r.append("service_id",t),r.append("template_id",e),r.append("user_id",s),h("/api/v1.0/email/send-form",r)},N={init:y,send:E,sendForm:q},S={nombre:"",email:"",mensaje:""},L={nombre:{required:!0},email:{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Ingresa un email valido"},mensaje:{required:!0}},V=()=>{const[t,e]=u.useState(!1),{setMensaje:o}=v(),{handleChange:n,errors:s,values:a,onSubmitForm:r}=_(S,L),m=u.useRef(),x="service_3mqr8ss",f="template_23d4l5g",j="NCv2l40Y5RE_Uxdpp",g=async()=>{const c=m.current;try{e(!0),await N.sendForm(x,f,c,j),o("Mensaje enviado")}catch{o("Ocurrió un error")}finally{e(!1)}};return i.jsxs("form",{className:"py-8 px-4  rounded-xl max-w-lg w-full grid gap-4 m-auto  bg-color-verde-blanco border border-gray-300 shadow-lg",ref:m,onSubmit:c=>r(c,g),children:[i.jsx("h2",{className:"font-betonga text-color-violeta text-2xl font-bold",children:"Contáctenos"}),i.jsx("h3",{className:"mb-8",children:"Con gusto contestaremos cualquier consulta"}),i.jsx(d,{labelText:"Nombre",errors:s,onChange:n,type:"text",placeholder:"Nombre",value:a.nombre,name:"nombre"}),i.jsx(d,{labelText:"Email",errors:s,onChange:n,type:"email",placeholder:"Email",value:a.email,name:"email"}),i.jsx(T,{labelText:"Mensaje",name:"mensaje",placeholder:"Mensaje",value:a.mensaje,error:s.mensaje,onChange:n}),i.jsx(C,{errors:s}),i.jsx(w,{className:"w-full",id:"Costumbres",disabled:t,tipo:"submit",bgColor:!0,texto:t?"Enviando":"Enviar"})]})};export{V as F};
