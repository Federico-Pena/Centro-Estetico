import{j as e,m as p,R as u,r as x}from"./index-D7SXAQHN.js";import{u as f}from"./useObserver-CwXYJtvj.js";import{B as d}from"./Button-lIR1oaxr.js";const g=({servicio:t})=>e.jsxs("section",{className:"overflow-auto snap-y snap-mandatory h-52 mt-8 grid  items-start relative border-t border-b border-gray-300 ",children:[e.jsx("h3",{className:"sticky top-0 text-xl capitalize backdrop-blur-lg bg-white bg-opacity-10 m-auto rounded-lg p-2",children:t.tratamientos&&t.tratamientos.length>1?`${t.tratamientos.length} Tratamientos`:"1 Tratamiento"}),t.tratamientos.map((n,s)=>e.jsxs("ul",{className:"p-8 grid gap-2 snap-end ",children:[e.jsxs("li",{className:"grid grid-cols-[1fr_2fr] gap-4",children:["Descripción",e.jsxs("span",{className:"text-end text-nowrap overflow-auto",children:[" ",n.descripcion]})]}),e.jsxs("li",{className:"grid grid-flow-col justify-between",children:["Tiempo ",e.jsxs("span",{children:[n.tiempo," minutos."]})]}),e.jsxs("li",{className:"grid grid-flow-col justify-between",children:[n.sesiones>1?"Sesiones":"Sesión"," ",e.jsx("span",{children:n.sesiones})]}),e.jsxs("li",{className:"grid grid-flow-col justify-between",children:["Valor",e.jsxs("span",{children:["$ ",n.costoTotal]})]})]},s))]}),b=({reservar:t,abrirMasInfo:n,servicio:s,imgSrc:a})=>{const o=p().pathname===u.user.servicios,i=x.useRef(),{isVisible:c}=f(i);return e.jsxs("article",{className:`${c?"animate-fadeIn":""}  mx-auto gap-8 max-w-md flex flex-col w-full border border-gray-300 shadow-lg rounded-lg overflow-hidden `,ref:i,children:[c&&e.jsx("img",{className:"w-full h-80 object-cover",src:a,alt:s.nombre}),e.jsx("h1",{className:"font-betonga font-bold text-color-violeta capitalize text-center underline underline-offset-4 text-2xl px-4",children:s.nombre}),e.jsx("p",{className:"px-4 text-balance flex-1",children:s.descripcion}),s.tratamientos&&s.tratamientos.length>0&&e.jsx(g,{servicio:s}),e.jsxs("footer",{className:"grid grid-flow-col p-4 gap-2",children:[e.jsx(d,{className:"w-full",tipo:"button",texto:"Ver mas",onClickFunction:()=>o&&n()}),e.jsx(d,{bgColor:!0,className:"w-full",tipo:"button",texto:"Reservar",onClickFunction:()=>o&&t()})]})]},s._id)},N=({servicio:t,abrirMasInfo:n,reservar:s})=>{var l;const a=t.imgPreview||((l=t.imagen)==null?void 0:l.secure_url)||"https://res.cloudinary.com/fotoscloudinary/image/upload/v1695323606/Portfolio/Centro%20Est%C3%A9tico/icon-192_fwqand.png";return!t||Object.keys(t).length===0?null:e.jsx(b,{imgSrc:a,servicio:t,reservar:()=>s(t),abrirMasInfo:()=>n(t,a)})},y=({setOpenInfo:t,imgSrc:n,reservar:s,servicio:a})=>{const l=p(),o=x.useRef();x.useEffect(()=>{o.current.scrollIntoView(!0)},[o]);const i=l.pathname===u.user.servicios,c=()=>{o.current.classList.add("animate-fadeOut")};return e.jsxs("article",{id:"openInfo",onAnimationEnd:r=>{r.target.id==="openInfo"&&r.animationName==="fadeOut"&&t(!1)},ref:o,style:{backgroundImage:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%),url(${n})`},className:"bg-no-repeat bg-cover bg-center border border-gray-300 shadow-lg rounded-lg  overflow-hidden text-white m-auto grid  pt-8 max-w-lg mx-auto items-center",children:[e.jsx("h1",{className:"font-betonga text-2xl font-semibold capitalize text-center px-4",children:a.nombre}),e.jsx("section",{className:"grid gap-2 mt-8",children:a.descripcionSecundaria&&a.descripcionSecundaria.split(".").map((r,m)=>r.trim()&&e.jsxs("p",{className:"px-8 text-pretty",children:[r,"."]},m))}),a.beneficiosLista.length>0&&e.jsxs("section",{className:"grid gap-4 mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold capitalize text-center px-4",children:a.tituloBeneficios}),e.jsx("ul",{className:"grid gap-2 px-8",children:a.beneficiosLista.map((r,m)=>e.jsx("li",{className:"text-pretty",children:r},m))})]}),a.tratamientos&&a.tratamientos.length>0&&e.jsx(g,{servicio:a}),e.jsxs("footer",{className:"bg-white grid grid-cols-2 gap-2 p-4",children:[e.jsx(d,{className:"w-full font-semibold",tipo:"button",texto:"Volver",onClickFunction:()=>i&&c()}),e.jsx(d,{bgColor:!0,className:"w-full font-semibold",tipo:"button",texto:"Reservar",onClickFunction:()=>i&&s(a)})]})]})};export{N as C,y as O};
