import{u as b,r as a,j as o}from"./index-Hh7_R6wJ.js";import{D as x}from"./Dropdown-qDlNTB9Q.js";import{g as C}from"./getServiciosNombresYTratamientos-97wtVCyz.js";import{a as h}from"./useUserContext-DcMwd5wI.js";const k=({handleChange:n,values:s,errors:r})=>{const{setMensaje:c}=b(),{accessToken:l}=h(),[i,d]=a.useState([]),[v,f]=a.useState([]);a.useEffect(()=>{(async()=>{try{const e=await C(l,c);e&&d(e)}catch{return c("OcurriÃ³ un error"),!1}})()},[l,c]),a.useEffect(()=>{if(s.servicio){const t=i.find(e=>e.nombre===s.servicio);t&&f(t.tratamientos)}},[i,s.servicio]);const p=(t,e)=>{const m=e.target.textContent;n({target:{name:t,value:m}})},g=(t,e)=>{const m=e.target.textContent,u={target:{name:t,value:m}},T={target:{name:"tratamiento",value:""}};n(u),n(T)},S=t=>t.map(e=>e.nombre),j=t=>t.map(e=>e.descripcion);return i.length>0&&o.jsxs(o.Fragment,{children:[r&&r.servicio&&o.jsxs("small",{className:"text-red-600",children:["* ",r.servicio]}),o.jsx(x,{defaultValue:s.servicio,name:"Servicios",list:S(i),onClickFunction:t=>g("servicio",t)}),s.servicio&&v.length>0&&o.jsxs(o.Fragment,{children:[r&&r.tratamiento&&o.jsxs("small",{className:"text-red-600",children:["* ",r.tratamiento]}),o.jsx(x,{defaultValue:s.tratamiento,name:"Tratamientos",list:j(v),onClickFunction:t=>p("tratamiento",t)})]})]})};export{k as S};
