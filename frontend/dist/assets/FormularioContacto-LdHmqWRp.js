import{r as u,u as _,j as l}from"./index-YAdz76Jm.js";import{u as w}from"./useForm-kpLBmbY3.js";import{L as d}from"./LabelInput-iD2B8GI7.js";import{T}from"./TextAreaLabel-U7btEOxD.js";import{B as C}from"./Button-qbGwCLcH.js";const m={_origin:"https://api.emailjs.com"},F=(t,e="https://api.emailjs.com")=>{m._userID=t,m._origin=e},b=(t,e,s)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class p{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const h=(t,e,s={})=>new Promise((n,a)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:r})=>{const i=new p(r);i.status===200||i.text==="OK"?n(i):a(i)}),o.addEventListener("error",({target:r})=>{a(new p(r))}),o.open("POST",m._origin+t,!0),Object.keys(s).forEach(r=>{o.setRequestHeader(r,s[r])}),o.send(e)}),q=(t,e,s,n)=>{const a=n||m._userID;return b(a,t,e),h("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:a,service_id:t,template_id:e,template_params:s}),{"Content-type":"application/json"})},y=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},E=(t,e,s,n)=>{const a=n||m._userID,o=y(s);b(a,t,e);const r=new FormData(o);return r.append("lib_version","3.11.0"),r.append("service_id",t),r.append("template_id",e),r.append("user_id",a),h("/api/v1.0/email/send-form",r)},N={init:F,send:q,sendForm:E},S={nombre:"",email:"",mensaje:""},L={nombre:{required:!0},email:{required:!0},mensaje:{required:!0}},H=()=>{const[t,e]=u.useState(!1),{setMensaje:s}=_(),{handleChange:n,errors:a,values:o,validateForm:r}=w(S,L),i=u.useRef(),f="service_3mqr8ss",x="template_23d4l5g",j="NCv2l40Y5RE_Uxdpp",v=async g=>{g.preventDefault();const c=i.current;if(r()){try{e(!0),await N.sendForm(f,x,c,j),s("Mensaje enviado")}catch{s("Ocurrió un error")}e(!1),c.reset()}else s("Faltan campos requeridos")};return l.jsxs("form",{className:"py-8 px-4  rounded-xl max-w-lg w-full grid gap-4 m-auto  bg-color-verde-blanco border border-gray-300 shadow-lg",ref:i,onSubmit:v,children:[l.jsx("h2",{className:"font-betonga text-color-violeta text-2xl font-bold",children:"Contáctenos"}),l.jsx("h3",{className:"mb-8",children:"Con gusto contestaremos cualquier consulta"}),l.jsx(d,{labelText:"Nombre",errors:a,onChange:n,type:"text",placeholder:"Nombre",value:o.nombre,name:"nombre"}),l.jsx(d,{labelText:"Email",errors:a,onChange:n,type:"email",placeholder:"Email",value:o.email,name:"email"}),l.jsx(T,{labelText:"Mensaje",name:"mensaje",placeholder:"Mensaje",value:o.mensaje,error:a.mensaje,onChange:n}),l.jsx(C,{className:"w-full",id:"Costumbres",disabled:t,tipo:"submit",bgColor:!0,texto:t?"Enviando":"Enviar"})]})};export{H as F};
