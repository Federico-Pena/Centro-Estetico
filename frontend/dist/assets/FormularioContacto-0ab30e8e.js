import{r as u,M as x,j as s}from"./index-ac3a5eb2.js";import{B as j}from"./BotonPrimario-ac81c3f1.js";const m={_origin:"https://api.emailjs.com"},v=(t,e="https://api.emailjs.com")=>{m._userID=t,m._origin=e},p=(t,e,o)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class d{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const f=(t,e,o={})=>new Promise((a,n)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:r})=>{const c=new d(r);c.status===200||c.text==="OK"?a(c):n(c)}),i.addEventListener("error",({target:r})=>{n(new d(r))}),i.open("POST",m._origin+t,!0),Object.keys(o).forEach(r=>{i.setRequestHeader(r,o[r])}),i.send(e)}),_=(t,e,o,a)=>{const n=a||m._userID;return p(n,t,e),f("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:n,service_id:t,template_id:e,template_params:o}),{"Content-type":"application/json"})},b=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},C=(t,e,o,a)=>{const n=a||m._userID,i=b(o);p(n,t,e);const r=new FormData(i);return r.append("lib_version","3.11.0"),r.append("service_id",t),r.append("template_id",e),r.append("user_id",n),f("/api/v1.0/email/send-form",r)},q={init:v,send:_,sendForm:C};const w=()=>{const[t,e]=u.useState(!1),{setMensaje:o}=u.useContext(x),a=u.useRef(),n="service_3mqr8ss",i="template_23d4l5g",r="NCv2l40Y5RE_Uxdpp",c=async h=>{h.preventDefault();const l=a.current;if(l.nombre.value.trim()&&l.email.value.trim()&&l.mensaje.value.trim()){try{e(!0),await q.sendForm(n,i,a.current,r),o("Mensaje enviado")}catch{o("Ocurrió un error")}e(!1),a.current.reset()}else o("Faltan campos requeridos")};return s.jsxs("form",{className:"formContacto",ref:a,onSubmit:c,children:[s.jsx("h2",{children:"Contacta conmigo"}),s.jsx("h3",{children:"Con gusto contestaré cualquier consulta"}),s.jsx("div",{className:"divInput",children:s.jsx("input",{type:"text",autoComplete:"off",name:"nombre",placeholder:"Nombre",required:!0})}),s.jsx("div",{className:"divInput",children:s.jsx("input",{type:"email",autoComplete:"off",name:"email",placeholder:"E-mail",required:!0})}),s.jsxs("div",{className:"divInput",children:[s.jsx("input",{name:"telefono",type:"number",autoComplete:"off",placeholder:"Teléfono"}),s.jsx("span",{children:"* El teléfono es opcional"})]}),s.jsx("div",{className:"divTextArea",children:s.jsx("textarea",{type:"text",autoComplete:"off",name:"mensaje",placeholder:"Mensaje",required:!0})}),s.jsx(j,{texto:t?"Enviando":"Enviar"})]})};export{w as F};
