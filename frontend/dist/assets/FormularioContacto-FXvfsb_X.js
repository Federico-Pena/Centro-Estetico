import{r as u,a as _,d as T,j as l,e as d,T as C,B as w}from"./index-6lSq4eNo.js";const m={_origin:"https://api.emailjs.com"},F=(t,e="https://api.emailjs.com")=>{m._userID=t,m._origin=e},b=(t,e,r)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class p{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const h=(t,e,r={})=>new Promise((n,a)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const i=new p(s);i.status===200||i.text==="OK"?n(i):a(i)}),o.addEventListener("error",({target:s})=>{a(new p(s))}),o.open("POST",m._origin+t,!0),Object.keys(r).forEach(s=>{o.setRequestHeader(s,r[s])}),o.send(e)}),q=(t,e,r,n)=>{const a=n||m._userID;return b(a,t,e),h("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:a,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"})},E=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},y=(t,e,r,n)=>{const a=n||m._userID,o=E(r);b(a,t,e);const s=new FormData(o);return s.append("lib_version","3.11.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",a),h("/api/v1.0/email/send-form",s)},N={init:F,send:q,sendForm:y},S={nombre:"",email:"",mensaje:""},M={nombre:{required:!0},email:{required:!0},mensaje:{required:!0}},O=()=>{const[t,e]=u.useState(!1),{setMensaje:r}=_(),{handleChange:n,errors:a,values:o,validateForm:s}=T(S,M),i=u.useRef(),x="service_3mqr8ss",f="template_23d4l5g",j="NCv2l40Y5RE_Uxdpp",v=async g=>{g.preventDefault();const c=i.current;if(s()){try{e(!0),await N.sendForm(x,f,c,j),r("Mensaje enviado")}catch{r("Ocurrió un error")}e(!1),c.reset()}else r("Faltan campos requeridos")};return l.jsxs("form",{className:"py-8 px-4 border border-slate-600 rounded max-w-md grid gap-4 m-auto bg-color-logo",ref:i,onSubmit:v,children:[l.jsx("h2",{className:"font-betonga text-color-violeta text-2xl font-bold",children:"Contáctenos"}),l.jsx("h3",{className:"mb-8",children:"Con gusto contestaremos cualquier consulta"}),l.jsx(d,{labelText:"Nombre",errors:a,onChange:n,type:"text",placeholder:"Nombre",value:o.nombre,name:"nombre"}),l.jsx(d,{labelText:"Email",errors:a,onChange:n,type:"email",placeholder:"Email",value:o.email,name:"email"}),l.jsx(C,{labelText:"Mensaje",name:"mensaje",placeholder:"Mensaje",value:o.mensaje,error:a.mensaje,onChange:n}),l.jsx(w,{className:"w-full",id:"Costumbres",disabled:t,tipo:"submit",bgColor:!0,texto:t?"Enviando":"Enviar"})]})};export{O as F};
